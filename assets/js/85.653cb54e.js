(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{446:function(e,t,s){"use strict";s.r(t);var r=s(42),a=Object(r.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"redis-底层数据结构-robj"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redis-底层数据结构-robj"}},[e._v("#")]),e._v(" Redis 底层数据结构 - robj")]),e._v(" "),s("h2",{attrs:{id:"定义"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#定义"}},[e._v("#")]),e._v(" 定义")]),e._v(" "),s("p",[s("strong",[e._v("Redis 中的对象")])]),e._v(" "),s("h2",{attrs:{id:"源码分析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#源码分析"}},[e._v("#")]),e._v(" 源码分析")]),e._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* in server.h */")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* The actual Redis Object */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[e._v("#"),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("define")]),e._v(" OBJ_STRING 0    ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* String object. */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[e._v("#"),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("define")]),e._v(" OBJ_LIST 1      ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* List object. */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[e._v("#"),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("define")]),e._v(" OBJ_SET 2       ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* Set object. */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[e._v("#"),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("define")]),e._v(" OBJ_ZSET 3      ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* Sorted set object. */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[e._v("#"),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("define")]),e._v(" OBJ_HASH 4      ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* Hash object. */")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* Objects encoding. Some kind of objects like Strings and Hashes can be\n * internally represented in multiple ways. The 'encoding' field of the object\n * is set to one of this fields for this object. */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[e._v("#"),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("define")]),e._v(" OBJ_ENCODING_RAW 0     ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* Raw representation */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[e._v("#"),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("define")]),e._v(" OBJ_ENCODING_INT 1     ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* Encoded as integer */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[e._v("#"),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("define")]),e._v(" OBJ_ENCODING_HT 2      ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* Encoded as hash table */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[e._v("#"),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("define")]),e._v(" OBJ_ENCODING_ZIPMAP 3  ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* Encoded as zipmap */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[e._v("#"),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("define")]),e._v(" OBJ_ENCODING_LINKEDLIST 4 ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* No longer used: old list encoding. */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[e._v("#"),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("define")]),e._v(" OBJ_ENCODING_ZIPLIST 5 ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* Encoded as ziplist */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[e._v("#"),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("define")]),e._v(" OBJ_ENCODING_INTSET 6  ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* Encoded as intset */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[e._v("#"),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("define")]),e._v(" OBJ_ENCODING_SKIPLIST 7  ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* Encoded as skiplist */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[e._v("#"),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("define")]),e._v(" OBJ_ENCODING_EMBSTR 8  ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* Embedded sds string encoding */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[e._v("#"),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("define")]),e._v(" OBJ_ENCODING_QUICKLIST 9 ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* Encoded as linked list of ziplists */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[e._v("#"),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("define")]),e._v(" OBJ_ENCODING_STREAM 10 ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* Encoded as a radix tree of listpacks */")]),e._v("\n")])])])])}),[],!1,null,null,null);t.default=a.exports}}]);